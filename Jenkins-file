pipeline {
    agent { label 'Jenkins-Agent'}
    tools {
        jdk 'Java17'
        Maven 'Maven3'
    }
}
stages{
    stage("cleanup workspace"){
            steps {
            cleanWS ()
            }
    }

    stage("checkout from scm"){
            steps {
                git branch: 'main', credentialsId: 'github', url: 'https://github.com/Ashfaque-9x/register-app'
            }
    }

    stage("Build Application"){
            steps {
                sh "mvn clean pakage"
            }
    }

    stage("Test Application"){
            steps {
                sh "mvn test"
            }
    }
